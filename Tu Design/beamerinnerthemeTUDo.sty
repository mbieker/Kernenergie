%%%%%%%%%%%%%%%%%%%%----------------------------------------%%%%%%%%%%%%%%%%%%%%
%-------------------   LaTeX-Beamer-Theme der TU Dortmund   -------------------%
%%%%%%%%%%%%%%%%%%%%----------------------------------------%%%%%%%%%%%%%%%%%%%%

%% Erstellt von Maximilian Nöthe <maximilian.noethe@tu-dortmund.de>
% Version 1.1 vom 27.5.2014
% added section/subsection in footline and fixed not compiling if no title image is set

% Vielen Dank an Carsten Raas für seine Mithilfe


\mode<presentation>

% Blocks
\setbeamertemplate{blocks}[rounded][shadow=false]
\setbeamertemplate{theorems}[numbered]

% Items
\setbeamertemplate{sections/subsections in toc}[square]
\setbeamertemplate{items}[square]

% Title page
\defbeamertemplate*{title page}{TUDo}[1][]
{
    \ifx\inserttitlegraphic\empty
    \else
    \begin{beamercolorbox}[ht=0.75\textheight, wd=\textwidth, center]{title page image}
        \includegraphics[width=\textwidth, height=0.74\textheight, keepaspectratio]{\inserttitlegraphic}
    \end{beamercolorbox}
    \vspace{5pt}
    \fi
    \hfill
    \begin{beamercolorbox}[ht=0.2\textheight, wd=0.8\textwidth, rounded=true, center]{title page title}
        \vbox to 0.2\textheight{\vfil\usebeamerfont{title}\inserttitle\vfil}
    \end{beamercolorbox}
    \hfill
    \vspace{5pt}
}

% Frame title
\defbeamertemplate*{frametitle}{TUDo}[1][0]
{
    \begin{beamercolorbox}[wd=\textwidth]{frametitle}
    \usebeamerfont{frametitle}\insertframetitle
    \ifx\insertframesubtitle\empty
    \else
    \par\hspace{1pt}\usebeamerfont{framesubtitle}\insertframesubtitle
    \fi
    \end{beamercolorbox}
    \vspace{-5pt}
}

\mode<all>
